---
layout: post
title:  "3 章 : 表現に名前をつける"
description:  "子供向けプログラミング チュートリアル Clojure の命名式"
date:   2016-06-18 21:17:23 +0200
categories: ja
thumbnail: assets/klipse.png
guid: "AB0B0C04-1C84-4597-AB73-1B382D2578C4"
author: "@viebel"
language: ja
---

[前章]({% post_url ja/2016-06-18-programming-kids-2 %})では、コンピュータのプログラミング言語で **ネストされた** 式を書きました。

この章では、式に名前を付ける方法を学びます。

しかし、その前に、なぜ式に名前を付けることが大切なのかを理解する必要があります。その理由の 1 つは、式に名前をつけないと、コンピュータ・プログラミングが急に混乱することがあるからです。

また、式に名前をつけると、コンピュータ・プログラミングはより整理されます。

![Organized](/assets/images/organized.jpg)

# 問題点：式に名前がないと混乱することがある

この式を見てください

~~~klipse
(+ (* (+ 3 4) 7) (* (+ 3 4) 9) (* (+ 3 4) 5))
~~~

`(+ 3 4)` という式が 3 回繰り返されているのがわかりますか？

この繰り返しが、この式を非常に分かりにくくしているのです。

# 解決策

この混乱に対する解決策は、式 `(+ 3 4)` に名前をつけて、式そのものではなくその名前を使うことです。

式に名前を付けるには、`def` を使います。

~~~klipse
(def a (+ 3 4))
~~~

とりあえず、`#'cljs.user/a` は気にしないでください。

`(+ 3 4)` の代わりに `a` を使うと、私たちの式はよりシンプルになります。


~~~klipse
(+ (* a 7) (* a 9) (* a 5))
~~~

# `def` の使い方

`def` はコンピュータに対して `式` に `名前` を付けるように指示する `操作` です。(`def` という単語は `define` の略語です)

`def` を使うには、前の章で `+` や `*` と同じように、[第 1 章]({% post_url ja/2016-01-01-programming-kids-1%})で紹介した **式の 3 ステップ** で式を作ります。

1. まず、コンピュータに何かを実行させたいことを伝える必要があります。そのためには、`( )`という括弧を使います。

2. 2. 次に、実行させたい「操作」をコンピュータに伝える必要があります。

3. 3. 最後に、`def` 操作のための `詳細をコンピュータに伝える必要があります。最初のオペランドは式に与えたい `name` で、2番目のオペランドは名前を与えたい `式` です。

それらをすべて組み合わせると、次のようになります。

~~~klipse
(def a (+ 3 4))
~~~

3 つの部分からなる表現がわかりますか？

1. `()`
2. `def`
3. 第 1 オペランド：`a`, 第 2 オペランド：`(+ 3 4)`

おめでとうございます。あなたは初めて **式** に名前をつけましたね。

例えば、`a` を `b`に、`c`をあなたの名前に置き換えてみてください。

また、`(+ 3 4)` を別の式、`(* 6 7)` や `(+ (* 7 2) (* 2 9))` に置き換えてもいいです。

# 名前を使う

一度、式に名前をつけると、どこでもその名前を使うことができるようになります。

ここでは、 `my-favourite-number` を `18` と定義しています。

~~~klipse
(def my-favourite-number 18)
~~~

そして、今度は `my-favourite-number` に `10` を追加します。

~~~klipse
(+ my-favourite-number 10)
~~~

# 複雑な式に戻る

さて，先ほどの複雑な式をもう一度書いてみましょう．`(+ (* (+ 3 4) 7) (* (+ 3 4) 9) (* (+ 3 4) 5))`:

~~~klipse
(def my-number (+ 3 4))
(+ (* my-number 7) (* my-number 9) (* my-number 5))
~~~

この方がずっとシンプルに見えますか？

もちろん、元の式と全く結果は同じです。

~~~klipse
(+ (* (+ 3 4) 7) (* (+ 3 4) 9) (* (+ 3 4) 5))
~~~


# 演習問題

もし、ある練習問題が難しかったら、**式の 3 ステップ** の詳細をもう一度読んでみてください。

A. `(4 + 7 + 8)*3 + (4 + 7 + 8)*7 + (4 + 7 + 8)*9`を計算してください。

~~~klipse
()
~~~

`361`を取得する必要があります。

B. `(2*3 + 4)*3 + (2*3 + 4)*7 + (2*3 + 4)*9` を計算してください。

~~~klipse
()
~~~

`190`と表示されるはずです。


C. `2*3 + 4*5` を計算し、その結果に `4 + 5` を掛けてください。

~~~klipse
()
~~~

`234`を取得する必要があります。

C. `2*3 + 4*5` を計算し、その結果に `4 + 5` を掛け、その結果に `19` を掛ける。

~~~klipse
()
~~~


`4446`と表示されるはずです。

