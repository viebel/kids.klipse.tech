---
layout: post
title: "6 章 : 関数（誕生日のお祝い）"
description: "Clojure Playground klipse for kids. コンピュータプログラミングのコース。関数の紹介。"
date:   2016-07-30 11:17:23 +0200
categories: clojure
programming_course: true
thumbnail: assets/klipse.png
guid: "B3689C8E-7021-4FE4-8F94-42B80995F277"
author: "@viebel"
language: ja
---

これまで、`list`, `+`, `*`, `-`, `/`, `quote` などを使った式の書き方を学んできました。

今日は、独自のオペレーションを定義する方法を学びます。

操作には 2 種類あります。

1. 関数
2. マクロ

この章では、関数を扱います。

![Birthday](/assets/images/birthday.jpg)

# なぜ関数が必要なのでしょうか？

例えば、あなたの年齢が何歳なのかを日数で表すとします。簡単でしょう？あなたの年齢を年単位で計算し、それに 1 年の日数である 365 をかければいいのです。

あなたが 9 歳なら、あなたの年齢は日数で言うと次のようになります。

~~~klipse
(* 9 365)
~~~

そして、家に 1 歳半の赤ちゃんがいる場合、その子の日齢は次の通りです。

~~~klipse
(* 1.5 365)
~~~

この `(* x 365)` のようなものを毎回書くのはかなり面倒です。だから関数が必要なのです。

関数というのは、何にでも適用できる計算式のようなものです。

今回の計算では、「年数」×「365」という計算式になります。


# 関数を定義する方法は？

ここでは、日齢計算のための関数を定義します。

~~~klipse
#(* % 365)
~~~

機能定義の構成は

1. ハッシュタグ(`#`)を前につける
2. 式の挿入
3. 式の中で、関数の引数として `%` を使う

> 注意: `#` と式の間には、空白を入れないでください。

式の場合と同じように、 `def` を使って関数に名前を付けることができます。

~~~klipse
(def age-in-days #(* % 365))
~~~

そして、その関数を任意の数に適用することができます。

~~~klipse
(age-in-days 9)
~~~


~~~klipse
(age-in-days 1.5)
~~~

また、関数の名前を使わずに適用することも可能です。（これを無名関数と呼びます）

~~~klipse
(#(* % 365) 12)
~~~

上のコードスニペットで何が起こっているのか、理解できましたか？

# 演習問題 

A. 時間を分に変換する関数 `hours->minutes` を書いてください。

~~~klipse
()
~~~

B. `hours->minutes` を使い、12 時間に何分あるのかを計算してください。

~~~klipse
()
~~~

C. 名前を使わずに、A で定義した関数を `12` に適用してください。

~~~klipse
()
~~~

D. 分を時間に変換する関数 `minutes->hours` を作成します。

~~~klipse
()
~~~

E. `minutes->hours` を使って、6000 分間に何時間あるか計算します。

~~~klipse
()
~~~

F. E で定義した関数を `6000` に適用してください（関数名は使用しないでください）。

~~~klipse
()
~~~

